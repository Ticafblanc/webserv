<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Webserv 42</title>

    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>
<header>
    <h1><a href="/return">Werbserv 42</a></h1>
    <div class="test">
        <a href="index.html" class="static in">Static request</a>
        <a href="../cgi-pass/php/index.php" class="cgi out">Dynamic request</a>
    </div>
    <aside>
        <a href="get.html" class="static request in">GET request</a>
        <a href="post.html" class="static request out">POST request</a>
        <a href="delete.html" class="static request out">DELETE request</a>
    </aside>
</header>

<main>
    <h1 id="welcome"></h1>
    <script>
        function setAction(form, name){
            document.cookie = "user=" + name;
        }
        const value = `${document.cookie}`;
        const parts = value.split("=");
        document.getElementById("welcome").innerHTML = "Welcome " + (parts[parts.indexOf("user") + 1] ? parts[parts.indexOf("user") + 1] : "to webserver");
    </script>
    <br>
    <form method="get" onsubmit="return setAction(this, document.getElementById('nameForm').value)">
        Name: <input id="nameForm" type="text" name="user">
        <input type="submit" value="OK">
    </form>
    <h1>Form get valid</h1>
    <form action="post.html" method="get">
        <input type="submit" value="return post">
    </form>
    <h1>Form get error</h1>
    <form action="/sd" method="get">
        <input type="submit" value="return error 404">
    </form>
    <h1>get error right access</h1>
    <a href="noAccess.html" class="static">noAccess.html</a>

</main>

<footer>
    <p>&copy; Copyright Matthis DoQuocBao | 42 Quebec</p>
</footer>
</body>
</html>
